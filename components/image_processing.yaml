
# Driveway Smarts
- platform: tensorflow
  source:
    - entity_id: camera.driveway_stream
      name: driveway_camera_person
  file_out:
    - "/config/www/{{ camera_entity.split('.')[1] }}_latest.jpg"
    - "/config/tensorflow/images/driveway/{{ camera_entity.split('.')[1] }}_persons_{{ now().strftime('%Y%m%d_%H%M%S') }}.jpg"
  scan_interval: 604800
  model:
    graph: "/config/tensorflow/model/frozen_inference_graph.pb"
    categories:
      - category: person
        area:
          right: 0.9
          left: 0.02

- platform: tensorflow
  source:
    - entity_id: camera.driveway_stream
      name: driveway_camera_vehicles
  file_out:
    - "/config/www/{{ camera_entity.split('.')[1] }}_vehicles_latest.jpg"
    - "/config/tensorflow/images/driveway/{{ camera_entity.split('.')[1] }}_vehicle_{{ now().strftime('%Y%m%d_%H%M%S') }}.jpg"
  scan_interval: 604800
  model:
    graph: "/config/tensorflow/model/frozen_inference_graph.pb"
    categories:
      - category: car
        area:
          left: 0.2
          right: 0.9
      - category: truck
        area:
          left: 0.2
          right: 0.9

# Backyard Smarts
- platform: tensorflow
  source:
    - entity_id: camera.backyard_stream
      name: backyard_camera_wildlife
  file_out:
    - "/config/www/{{ camera_entity.split('.')[1] }}_wildlife_latest.jpg"
    - "/config/tensorflow/images/backyard/{{ camera_entity.split('.')[1] }}_wildlife_{{ now().strftime('%Y%m%d_%H%M%S') }}.jpg"
  scan_interval: 604800
  model:
    graph: "/config/tensorflow/model/frozen_inference_graph.pb"
    labels: "tensorflow/object_detection/data/oid_bbox_trainable_label_map.pbtxt"
    categories:
      - category: deer
        area:
          top: 0.25
      - category: animal
        area:
          top: 0.25

- platform: tensorflow
  source:
    - entity_id: camera.backyard_stream
      name: backyard_camera_domestic
  file_out:
    - "/config/www/{{ camera_entity.split('.')[1] }}_domestic_latest.jpg"
    - "/config/tensorflow/images/backyard/{{ camera_entity.split('.')[1] }}_domestic_{{ now().strftime('%Y%m%d_%H%M%S') }}.jpg"
  scan_interval: 604800
  model:
    graph: "/config/tensorflow/model/frozen_inference_graph.pb"
    categories:
      - category: person
        area:
          top: 0.25
      - category: dog
        area:
          top: 0.25
      - category: cat
        area:
          top: 0.25